<!DOCTYPE html><html><head>
      <title>pointer</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:////Users/audiofool/.vscode/extensions/shd101wyy.markdown-preview-enhanced-0.8.15/crossnote/dependencies/katex/katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
.markdown-preview.markdown-preview {
  font-family: 'Charter', 'Source Han Serif SC';
  font-size: 14px;
  letter-spacing: 1px;
}
.markdown-preview.markdown-preview h1 {
  color: #c45c5c;
  font-size: 56px;
}
.markdown-preview.markdown-preview h2 {
  color: #ebab4c;
  font-size: 42px;
}
.markdown-preview.markdown-preview h3 {
  color: #bfb454;
  font-size: 28px;
}
.markdown-preview.markdown-preview h4 {
  color: #40a245;
  font-size: 16px;
}
.markdown-preview.markdown-preview h5 {
  color: #4b7da5;
  font-size: 14px;
}
.markdown-preview.markdown-preview h6 {
  color: #604590;
  font-size: 14px;
}
.markdown-preview.markdown-preview code {
  font-family: 'Monaspace Neon';
}

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h2 id="pointer">Pointer </h2>
<blockquote>
<p>Basically, a pointer is a <strong>variable</strong> (or, more generally, a data object) whose value is a <strong>memory address</strong>. Just as a char variable has a character as a value and an int variable has an integer as a value, <u>the pointer variable has an address as a value.</u><br>
-- <cite>C Primer Plus, Fifth Edition, By Stephen Prata</cite></p>
</blockquote>
<p>指针是一个<strong>变量</strong>，其值是另一个变量的内存地址</p>
<img src="../../media/paves/basics/c-pointer.png" width="400px">
<p>-- <cite><a href="https://www.runoob.com/cprogramming/c-pointers.html">https://www.runoob.com/cprogramming/c-pointers.html</a></cite></p>
<hr>
<h3 id="1-指针的定义与基本操作">1. 指针的定义与基本操作 </h3>
<h4 id="recap-">recap: <code>&amp;</code> </h4>
<p>使用<strong>addressof operator</strong>(取地址运算符) <code>&amp;</code>，获取变量的内存地址：</p>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token keyword keyword-int">int</span> a <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"address of a: %p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>output</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>address of a: 0x16bd11898
</code></pre><h4 id="11-定义指针变量">1.1 定义指针变量 </h4>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code>datatype <span class="token operator">*</span>ptr<span class="token punctuation">;</span> <span class="token comment">// 数据类型 *指针变量名</span>
</code></pre><p>Example:</p>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token keyword keyword-int">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span> <span class="token comment">// 定义一个指针变量 p，并使其存储变量 a 的地址，即“让 p 指向 a”</span>
</code></pre><p><code>p</code> 与 <code>&amp;a</code> 的区别：<code>p</code>是一个变量，<code>&amp;a</code>是一个常量——<code>p</code>可以指向其他地址</p>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token keyword keyword-int">int</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
p <span class="token operator">=</span> <span class="token operator">&amp;</span>b<span class="token punctuation">;</span>
</code></pre><h4 id="12-通过指针访问变量值">1.2 通过指针访问变量值 </h4>
<p>解引用运算符 <code>*</code>：</p>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：20</span>
</code></pre><h4 id="13-修改变量值">1.3 修改变量值 </h4>
<p>通过指针可以间接修改变量的值：</p>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span> <span class="token comment">// 修改 a 的值为 30</span>
</code></pre><table>
<thead>
<tr>
<th>操作符</th>
<th>含义</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&amp;</code></td>
<td>addressof operator(取地址符)</td>
<td><code>&amp;a</code> 获取变量 <code>a</code> 的储存地址</td>
</tr>
<tr>
<td><code>*</code></td>
<td>dereferencing operator(解引用符)</td>
<td><code>*p</code> 获取指针 <code>p</code> 指向的变量的值</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="2-常见的指针类型">2. 常见的指针类型 </h3>
<h4 id="21-null-空指针">2.1 <code>NULL</code> (空指针) </h4>
<ul>
<li>空指针是一个不指向任何有效内存的指针</li>
<li>定义空指针：<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token keyword keyword-int">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
</code></pre></li>
<li>检查指针是否为空：<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//也可以简化为 if (!p)</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"empty pointer!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></li>
</ul>
<h4 id="22-void--通用指针">2.2 <code>void *</code> (通用指针) </h4>
<ul>
<li>通用("generic")指针可以指向任意类型的数据</li>
<li>使用通用指针时需要强制类型转换：<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token keyword keyword-void">void</span> <span class="token operator">*</span>ptr<span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span> <span class="token comment">// void* 指向 int 类型的变量</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"通过通用指针访问值: %d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> <span class="token operator">*</span><span class="token punctuation">)</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 强制类型转换：先转为 int*，再解引用</span>
</code></pre></li>
</ul>
<hr>
<h3 id="3-指针与数组">3. 指针与数组 </h3>
<blockquote>
<p>Because the hardware instructions of computing machines rely heavily on addresses, <strong>pointers enable you to express yourself in a way that is close to how the machine expresses itself</strong>. This correspondence makes programs with pointers efficient. In particular, pointers offer an efficient way to deal with arrays. Indeed, as you will see, <u>array notation is simply a disguised use of pointers</u>.<br>
-- <cite>C Primer Plus, Fifth Edition, By Stephen Prata</cite></p>
</blockquote>
<blockquote>
<p>an array name is also the address of the first element of the array. That is, if flizny is an array, the following is true:</p>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code>flizny <span class="token operator">==</span> <span class="token operator">&amp;</span>flizny<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// name of array is the address of the first &gt;element</span>
</code></pre><p>Both <code>flizny</code> and <code>&amp;flizny[0]</code> represent the memory address of that first element. (Recall that &amp; is the address operator.)<br>
-- <cite>C Primer Plus, Fifth Edition, By Stephen Prata</cite></p>
</blockquote>
<p><a name="array-pointer" href=""></a><br>
数组名是指向第一个元素的指针</p>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token keyword keyword-int">int</span> arr<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> arr <span class="token operator">==</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// output: 1</span>
<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
</code></pre><table>
<thead>
<tr>
<th>表达式</th>
<th>含义</th>
<th>示例值</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>arr</code></td>
<td>数组第一个元素的地址</td>
<td><code>&amp;arr[0]</code></td>
</tr>
<tr>
<td><code>*arr</code></td>
<td>数组第一个元素的值</td>
<td><code>1</code></td>
</tr>
<tr>
<td><code>arr + i</code></td>
<td>数组第 i 个元素的地址</td>
<td><code>&amp;arr[i]</code></td>
</tr>
<tr>
<td><code>*(arr + i)</code></td>
<td>数组第 i 个元素的值</td>
<td><code>arr[i]</code></td>
</tr>
</tbody>
</table>
<p><strong>一点补充：</strong></p>
<blockquote>
<p>What is happening here is that when you say "add 1 to a pointer," <strong>C adds one storage unit</strong>. For arrays, that means the address is increased to the address of the next element, <u>not just the next byte</u>. <em>This is one reason why you have to declare the sort of object to which a pointer points</em>.<br>
-- <cite>C Primer Plus, Fifth Edition, By Stephen Prata</cite></p>
</blockquote>
<img src="../../media/paves/basics/arr_n_ptr.png" width="400px">
<blockquote>
<p>Now we can define more clearly what is meant by pointer-to-int, pointer-to-float, or pointer-to–any other data object:<br>
- The value of a pointer is the address of the object to which it points. How the address is represented internally is hardware dependent. Many computers, including PCs and Macintoshes, are byte addressable, meaning that each byte in memory is numbered sequentially. Here, the address of a large object, such as type double variable, typically is <u>the address of the first byte of the object</u>.<br>
- Applying the <code>*</code> operator to a pointer yields the value stored in the pointed-to object.<br>
- <strong>Adding 1 to the pointer increases its value by the size, in bytes, of the pointed-to type</strong>.<br>
-- <cite>C Primer Plus, Fifth Edition, By Stephen Prata</cite></p>
</blockquote>
<hr>
<h3 id="4-指针与函数">4. 指针与函数 </h3>
<h4 id="51-指针作为函数参数">5.1 指针作为函数参数 </h4>
<p>通过指针传递参数可以实现函数对变量的修改。</p>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token keyword keyword-void">void</span> <span class="token function">change</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> <span class="token operator">*</span>p<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>  <span class="token comment">// 修改 p 指向变量的值</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token function">change</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"a = %d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出: a = 100</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="52-返回指针的函数">5.2 返回指针的函数 </h4>
<p>函数可以返回指针，但要保证返回的指针是有效的。</p>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token keyword keyword-int">int</span> <span class="token operator">*</span><span class="token function">getPointer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-int">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// 静态变量，作用域在函数内，但生命周期在整个程序运行期间</span>
    <span class="token keyword keyword-return">return</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>关于<code>static</code>关键字，可参考<a href="https://www.runoob.com/w3cnote/c-static-effect.html">这里</a></p>
<hr>
<h3 id="5-动态内存分配">5. 动态内存分配 </h3>
<p><a href="https://www.runoob.com/cprogramming/c-memory-management.html">这里</a>的讲解很全面，这里只做简单介绍</p>
<h4 id="51-常用内存管理函数与运算符">5.1 常用内存管理函数与运算符 </h4>
<ul>
<li><code>malloc</code>：分配内存但不初始化</li>
<li><code>free</code>：释放动态分配的内存</li>
<li><code>calloc</code>：分配并初始化为 0</li>
<li><code>realloc</code>：重新调整内存大小</li>
<li><code>sizeof</code> 运算符：返回变量的大小</li>
</ul>
<h4 id="53-malloc-与-free">5.3 <code>malloc</code> 与 <code>free</code> </h4>
<p><code>void free( void *ptr )</code></p>
<ul>
<li>
<p><code>malloc</code>：用于在堆区分配指定大小的内存，返回一个<strong>指向分配内存的指针(pointer-to-void)</strong>；如果分配失败，返回 <code>NULL</code></p>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token keyword keyword-void">void</span> <span class="token operator">*</span><span class="token function">malloc</span><span class="token punctuation">(</span> <span class="token class-name">size_t</span> size <span class="token punctuation">)</span> <span class="token comment">// size_t 是无符号整数类型，表示大小（可以看作是 int），这里也可以用 int 型变量作为参数</span>
</code></pre></li>
<li>
<p><code>free</code>：用于释放之前通过 <code>malloc</code> 分配的内存，释放后该内存可以被重新分配</p>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token keyword keyword-void">void</span> <span class="token function">free</span><span class="token punctuation">(</span> <span class="token keyword keyword-void">void</span> <span class="token operator">*</span>ptr <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></li>
</ul>
<p>示例：</p>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token number">5</span> <span class="token operator">*</span> <span class="token keyword keyword-sizeof">sizeof</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 分配内存</span>
             <span class="token comment">// 这里的 (int *) 是强制类型转换，将 pointer-to-void 转为 pointer-to-int</span>
    
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"内存分配失败！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        p<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 初始化</span>

    <span class="token comment">// 操作，比如输出</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 释放内存</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><hr>
<h3 id="6-多级指针">6. 多级指针 </h3>
<p>多级指针指的是指向指针的指针，可以有多级嵌套（如二级指针、三级指针等），例如 <code>int **ptr1</code>，<code>int ***ptr</code></p>
<h4 id="61-定义与使用">6.1 定义与使用 </h4>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token keyword keyword-int">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>      <span class="token comment">// 一个普通的整数</span>
<span class="token keyword keyword-int">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span>     <span class="token comment">// 指针 p 指向 a</span>
<span class="token keyword keyword-int">int</span> <span class="token operator">*</span><span class="token operator">*</span>pp <span class="token operator">=</span> <span class="token operator">&amp;</span>p<span class="token punctuation">;</span>   <span class="token comment">// 指针 pp 指向指针 p</span>
<span class="token keyword keyword-int">int</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>ppp <span class="token operator">=</span> <span class="token operator">&amp;</span>pp<span class="token punctuation">;</span> <span class="token comment">// 指针 ppp 指向指针 pp</span>

<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"a = %d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>ppp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 解引用3次，输出 a 的值</span>
</code></pre><h4 id="62-多级指针与指针数组">6.2 多级指针与指针数组 </h4>
<p>指针数组是一个<strong>数组</strong>，数组中的每个元素是指针</p>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token keyword keyword-int">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token operator">*</span>arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">,</span> <span class="token operator">&amp;</span>c<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 一个指针数组，每个元素存储一个指针</span>
<span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Value at arr[%d]: %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token operator">*</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>示例：字符串指针数组</p>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span> <span class="token operator">*</span>words<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"hello"</span><span class="token punctuation">,</span> <span class="token string">"world"</span><span class="token punctuation">,</span> <span class="token string">"C language"</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 字符串指针数组</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> words<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><h6 id="讨论arr-与-int-a-的区别其中-arr-为前面的指针数组">讨论：<code>arr</code> 与 <code>int **a</code> 的区别，其中 <code>arr</code> 为前面的指针数组 </h6>
<p>由之前对数组的讨论，数组名或数组的第一个元素的地址，是一个指针常量，因此，<code>arr</code> 与 <code>int **a</code> 的区别在于前者是一个指针常量，后者是一个指针变量</p>
<h4 id="63-多级指针与多维数组">6.3 多级指针与多维数组 </h4>
<p>关于<a href="https://www.cnblogs.com/chenyangyao/p/5222696.html">多级指针与多维数组</a></p>
<h6 id="动态分配二维数组">动态分配二维数组 </h6>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token keyword keyword-int">int</span> rows <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> cols <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token operator">*</span><span class="token operator">*</span>array <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>rows <span class="token operator">*</span> <span class="token keyword keyword-sizeof">sizeof</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 二级指针，指向包含 rows 个一级指针的内存地址的首地址（指针数组的首位）</span>
<span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> rows<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>cols <span class="token operator">*</span> <span class="token keyword keyword-sizeof">sizeof</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 初始化</span>
<span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> rows<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> cols<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">*</span> cols <span class="token operator">+</span> j<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 操作（与二维数组无异）</span>
<span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> rows<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> cols<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 释放内存</span>
<span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> rows<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">free</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">free</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h6 id="讨论二级指针动态分配二维数组-与-静态声明的二维数组">讨论：二级指针动态分配二维数组 与 静态声明的二维数组 </h6>
<ol>
<li>
<p>相同：</p>
<ol>
<li>
<p><strong>访问方式一致</strong></p>
<ul>
<li>无论是动态分配还是静态声明，都可以通过 <code>arr[i][j]</code> 的方式访问元素。</li>
<li>动态分配的二维数组模拟了静态二维数组的访问行为。</li>
</ul>
</li>
<li>
<p><strong>本质上都是二维结构</strong></p>
<ul>
<li>都能存储和操作二维数据，适用于类似的应用场景，例如矩阵运算或表格数据处理。</li>
</ul>
</li>
</ol>
</li>
<li>
<p>区别：</p>
<table>
<thead>
<tr>
<th><strong>特性</strong></th>
<th><strong>二级指针动态分配</strong></th>
<th><strong>静态声明</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>内存分配</strong></td>
<td>每一行独立分配内存，行与行之间地址不连续</td>
<td>整个数组在内存中是一个连续块，每行地址固定偏移量</td>
</tr>
<tr>
<td><strong>内存访问效率</strong></td>
<td><strong>行地址不连续</strong>，可能导致缓存性能较差</td>
<td><strong>地址连续</strong>，访问效率高</td>
</tr>
<tr>
<td><strong>访问方式</strong></td>
<td>使用 <code>arr[i][j]</code>，<strong>内部实际解引用两次指针</strong></td>
<td>使用 <code>arr[i][j]</code>，<strong>通过偏移量计算地址</strong></td>
</tr>
<tr>
<td><strong>指针行为</strong></td>
<td><code>arr</code> 是一个二级指针，可以动态分配和释放行内存</td>
<td><code>arr</code> 是一个固定的二维数组名，表示数组首地址</td>
</tr>
<tr>
<td><strong>灵活性</strong></td>
<td>可以动态改变行列大小，支持运行时分配</td>
<td>数组大小在编译时确定，无法动态调整</td>
</tr>
<tr>
<td><strong>内存释放</strong></td>
<td>需要逐行释放内存，然后释放指针数组本身</td>
<td>自动管理，无需手动释放内存</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><strong>内存布局</strong>：</p>
<ol>
<li>
<p><strong>动态分配的二维数组</strong><br>
每一行内存单独分配，行与行之间地址可能不连续：</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>arr --&gt; [ 指向第1行的指针地址 ] --&gt; 行1的内存
        [ 指向第2行的指针地址 ] --&gt; 行2的内存
        [ 指向第3行的指针地址 ] --&gt; 行3的内存
</code></pre></li>
<li>
<p><strong>静态二维数组</strong><br>
内存是连续分配的，行与行之间的地址连续：</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>arr --&gt; 行1的内存 | 行2的内存 | 行3的内存
</code></pre></li>
</ol>
</li>
</ol>
<h3 id="a-quirk-int-a-vs-int-a">a "quirk": int* a vs. int *a </h3>
<p>summary of answers from <a href="https://stackoverflow.com/questions/3770187/difference-between-int-i-and-int-i">stackoverflow</a></p>
<p>在 C 语言中，<code>int* a</code> 和 <code>int *a</code> 本质上是一样的，它们都定义了一个<strong>指向 <code>int</code> 类型的指针变量</strong>，区别主要是编码风格和个人习惯：</p>
<ol>
<li>
<p><strong>一点直观</strong></p>
<ul>
<li><code>int* a</code> 强调 <code>int*</code> 是一种类型，即 "指向 int 的指针"。</li>
<li><code>int *a</code> 强调星号（<code>*</code>）是变量的一部分，即 "a 是一个指针"。</li>
</ul>
</li>
<li>
<p><strong>多变量声明的区别</strong>：</p>
<ul>
<li>
<p>无论使用哪种风格，以下声明：</p>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token keyword keyword-int">int</span><span class="token operator">*</span> i<span class="token punctuation">,</span> j<span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> <span class="token operator">*</span>i<span class="token punctuation">,</span> j<span class="token punctuation">;</span>
</code></pre><p>都表示 <code>i</code> 是一个指针，而 <code>j</code> 是一个普通的整数。这是因为<code>*</code>运算符只作用于紧接它的变量。</p>
</li>
<li>
<p>如果想声明两个指针，必须写成：</p>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token keyword keyword-int">int</span> <span class="token operator">*</span>i<span class="token punctuation">,</span> <span class="token operator">*</span>j<span class="token punctuation">;</span>
</code></pre></li>
<li>
<p>更清晰的写法通常是：</p>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token keyword keyword-int">int</span> <span class="token operator">*</span>i<span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> j<span class="token punctuation">;</span>
</code></pre></li>
</ul>
</li>
<li>
<p><code>int *a</code></p>
<ol>
<li>C 的声明是以表达式为中心的（expression-centric），而不是以对象为中心（object-centric）。</li>
<li>它更符合 C 的声明语法。例如，数组指针的声明：<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token keyword keyword-int">int</span> <span class="token operator">*</span>a<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>与表达式 <code>*a[i]</code> 的使用方式一致。这体现了 C 的 "声明与使用相对应" 的原则。</li>
</ol>
</li>
</ol>

      </div>
      
      
    
    
    
    
    
    
  
    </body></html>